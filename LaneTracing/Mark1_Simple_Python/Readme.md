# Mark1

### 파이썬 API를 이용한 레인트레이싱
##### 1. 레인트레이싱 최초 성공
##### 2. 경령화 된 로직을 이용하여 제어가 가능함을 확인

### 한계점
##### 1. 라즈베리파이의 CPU가 화면을 감당하지 못할 수도 있다.
##### 2. 연산량이 많아지면 레이턴시가 높아질 수 있다.
##### 3. 레이턴시 때문에 진행하며 OpenCV를 통하여 확인이 힘들다. (실시간으로 확인이 어려움)
##### 4. 좌회전, 우회전 시 정지후 각도를 맞춘 후 다시 출발

### 해결책 제시
##### 1. 레이턴시를 줄이기 위해 ROS의 Compressed 이미지 토픽을 활용한다.
##### 2. ROS의 Compressed 이미지 토픽을 사용하여 AGV는 이미지 데이터만 publish하고, 다른 노드(PC)에서 이미지를 받아 처리한다.
##### 3. ROS의 RQT를 이용하여 실시간으로 이미지를 확인할 수 있다.


MyAGV_LaneTracing_Mark1.py
이 스크립트는 AGV(Automated Guided Vehicle)의 차선 추적 기능을 구현합니다.

스크립트 설명
AGV와 카메라 설정: AGV 객체를 생성하고, 카메라를 설정합니다. 카메라의 프레임 너비와 높이를 설정하고, 프레임 레이트를 10으로 설정합니다.

이미지 처리: process_image 함수는 입력 이미지에서 노란색 차선을 추출하고, 차선의 중심점을 찾습니다. 이 함수는 이미지의 하단 1/4을 관심 영역으로 설정하고, HSV 색공간으로 변환하여 노란색을 추출합니다. 노이즈를 제거한 후, 노란색 라인의 중심점을 찾습니다.

차선 추적: 무한 루프 내에서, 프레임을 읽고, process_image 함수를 사용하여 노란색 라인의 중심점을 찾습니다. 중심점이 이미지의 중심에 가깝다면 AGV는 전진하고, 중심점이 이미지의 중심보다 왼쪽에 있다면 AGV는 좌회전하고, 중심점이 이미지의 중심보다 오른쪽에 있다면 AGV는 우회전합니다.

사용 방법
AGV와 카메라를 연결합니다.
스크립트를 실행합니다: python MyAGV_LaneTracing_Mark1.py
주의 사항
이 스크립트는 AGV와 연결된 카메라가 필요합니다.
AGV의 포트와 보드레이트는 스크립트 내에서 설정할 수 있습니다.
이 스크립트는 노란색 차선을 추적합니다. 다른 색상의 차선을 추적하려면 HSV 범위를 조정해야 합니다.
